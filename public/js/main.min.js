function startSlideShow(){showLoading=false;slideshow=setInterval(function(){$("#next").click()},3e3)}function stopSlideShow(){showLoading=true;console.log("SlideShow Stopped");clearTimeout(slideshow)}function onFullScreenExit(){console.log("Exited fullscreen");$("body").removeClass("full-screen");stopSlideShow()}function onFullScreenEnter(){console.log("Entered fullscreen!");elem.onwebkitfullscreenchange=onFullScreenExit;elem.onmozfullscreenchange=onFullScreenExit;startSlideShow()}function enterFullscreen(){console.log("enterFullscreen()");$("body").addClass("full-screen");elem.onwebkitfullscreenchange=onFullScreenEnter;elem.onmozfullscreenchange=onFullScreenEnter;elem.onfullscreenchange=onFullScreenEnter;if(elem.webkitRequestFullscreen){elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{if(elem.mozRequestFullScreen){elem.mozRequestFullScreen()}else{elem.requestFullscreen()}}}function exitFullscreen(){console.log("exitFullscreen()");document.cancelFullScreen();document.getElementById("enter-exit-fs").onclick=enterFullscreen}require.config({baseUrl:"lib/seriouslyjs/"});require(["seriously","effects/seriously.chroma","effects/seriously.bleach-bypass","effects/seriously.blend","effects/seriously.ripple"],function(e){function x(){var e=window.innerWidth/window.innerHeight;g.width=Math.min(960,window.innerWidth);g.height=g.width/e;reformatForOutput.width=g.width;reformatForOutput.height=g.height;h.width=g.width/100;h.height=h.width/494*256;h.translateX=-(g.width/2)+h.width/2;h.translateY=g.height/2-h.height/2}function T(){l=a.source("#original_image");f=a.source("#logo");scaleImage=a.transform("2d");scaleImage.source=l;scaleImage.scale(1e3/1e3);l=scaleImage;reformat=a.transform("reformat");reformatForOutput=a.transform("reformat");reformat.width=1280;reformat.height=720;reformat.mode="none";reformatForOutput.mode="cover";c=a.source("#background_image");g=a.target("#canvas");d.source=scaleImage;d.amount=.5;p.weight="#weight";p.balance="#balance";p.screen="rgb(30, 222, 32)";p.clipWhite="#clipWhite";p.clipBlack="#clipBlack";p.source=d;var e=a.transform();e.source=p;e.translateX=0;e.translateY=-100;e.scale(1);m.source=c;v.mode="normal";v.bottom=m;v.top=e;reformatForOutput.source=v;h=a.transform("2d");h.source=f;h.translateX=-500;h.translateY=500;h.scale(.8);v=a.effect("blend");v.bottom=reformatForOutput;v.top=h;g.source=v;a.go(function(t){u=(t-S)/1e3;o=Math.sin(u)*50;e.translateX=o;m.wave=Math.abs(Math.sin(t/2e3/4));m.distortion=Math.abs(Math.sin(t/1e3/4.5))*2})}function C(e){T();x();window.onresize=x;M();P();H();k()}function k(){$(".btn-share").on("click",function(){var e=$(this).data("share");var n=370;var r=320;var i=screen.height/2-r/2;var s=screen.width/2-n/2;title=encodeURIComponent("Shitty Party Gallery");descr=encodeURIComponent("This was the shitty party. The biggest muilfestijn from Antwerpen and surrounding parking. A big up to the Muiltatuli and the lovely crowd. See you next time!");url=encodeURIComponent("https://partypics.shittyguide.org/#"+t);image=encodeURIComponent("http://partypics.shittyguide.org/images/share-shitty.jpg");switch(e){case"facebook":window.open("http://www.facebook.com/sharer.php?s=100&p[title]="+title+"&p[summary]="+descr+"&p[url]="+url+"&p[images][0]="+image,"sharer","top="+i+",left="+s+",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width="+n+",height="+r);break;case"twitter":window.open("http://www.twitter.com/share?text="+descr+" #shittyguide #antwerpen","top="+i+",left="+s+",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width="+n+",height="+r);break}})}function L(e,t){return e+Math.floor(Math.random()*(t-e+1))}function A(e){if(t<N){t++}else{t=1}window.history.pushState(null,null,"#"+t);_("/randomImage?count="+t,function(){$("#original_image").attr("src","/randomImage?count="+t)})}function O(e){if(t>1){t--}else{t=N}window.history.pushState(null,null,"#"+t);_("/randomImage?count="+t,function(){$("#original_image").attr("src","/randomImage?count="+t)})}function M(){var e=window.location.hash.substr(1);if(e===""){t=L(t,N)}else{t=e}window.history.pushState(null,null,"#"+t);$("#original_image").attr("src","/randomImage?count="+t);$("#next").on("click",function(e){e.preventDefault();A()});$("#back").on("click",function(e){e.preventDefault();O()});$(window).keydown(function(e){if(e.keyCode===39){A()}if(e.keyCode===37){O()}})}function _(e,t){var n=new Image;showLoading?r.fadeIn():"";n.onload=function(){console.info("Image loaded !");showLoading?r.fadeOut():"";t()};n.onerror=function(){console.error("Cannot load image")};n.src=e;return n}function D(){$("#background_image").attr("src","/randomBackground?count="+n);n++}function P(){setInterval(D,i*s)}function H(){var e=["hvmKKPU3oJc","VGWlOSMmq5o","w15oWDh02K4","ZnBeTPpr98g","pTtcMP87qz8","GM5Kw6LVYlk","g7uHLJOsU_4","YK3ZP6frAMc","pgRUHIeaKOk","D3-vBBQKOYU"],t=e[L(0,e.length-1)];$("body").append('<iframe style="display: none;" width="100%" height="100%" frameborder="0" scrolling="yes" allowtransparency="true" src="//www.youtube.com/embed/'+t+'?autoplay=1&loop=1&playlist=PL759KJQCqtrxBXCyRgWw9w7plLCVsavBY"></iframe>')}var t=1;var n=1;var r;var i=2e3;var s=3;var o,u;var a=new e,f,l,c,h,p=a.effect("chroma"),d=a.effect("bleach-bypass"),v=a.effect("blend"),m=a.effect("ripple"),g,y=0,b=0,w=0,E=0,S=Date.now();var t=0,N=127;$(function(e){r=e("#loading_image");C();r.fadeOut()})});document.cancelFullScreen=document.webkitExitFullscreen||document.mozCancelFullScreen||document.exitFullscreen;var elem=document.querySelector("body"),slideshow=null,showLoading=true;document.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.preventDefault();document.cancelFullScreen();break;case 70:enterFullscreen();break}},false);$(".btn-play").on("click",function(e){enterFullscreen()});